function VerticleBlocks(t){this.settings=this.extend(this.defaultSettings(),t),this.columns=1,this.$container=document.querySelector(this.settings.classname.container),this.$blockes=this.$container.querySelectorAll(this.settings.classname.block),this.bwbp=[],this.init()}VerticleBlocks.prototype.init=function(){this.setUpBreakPoints(),this.updateColumn(this.getWidth()),this.settings.listenForChanges&&this.domModifiedEvent()},VerticleBlocks.prototype.domModifiedEvent=function(){var t=this,e=0,i=this.$blockes.length;for(e=0;i>e;e+=1)this.$blockes[e].addEventListener("DOMSubtreeModified",function(){t.setup()})},VerticleBlocks.prototype.resetValues=function(){var t=0,e=this.$blockes.length;for(t=0;e>t;t+=1)this.$blockes[t].style.top="0px"},VerticleBlocks.prototype.rowMaxHeight=function(t,e,i){var o=0,s=[];for(t=0;e>t;t+=1)o=Math.floor(t/this.columns),s[o]=s[o]||s.push(0),s[o]=i[t].clientHeight>s[o]?i[t].clientHeight:s[o];return s},VerticleBlocks.prototype.createColumnsArray=function(t,e,i){var o,s=0,n=[],r=0;for(t=0;e>t;t+=1)n[s]=n[s]||[],o=i[t].currentStyle||window.getComputedStyle(i[t]),r=o.marginTop?parseFloat(o.marginTop)+parseFloat(o.marginBottom):0,n[s].push({height:parseFloat(o.height),ele:i[t],margin:r}),s=s>this.columns-2?0:s+=1;return n},VerticleBlocks.prototype.getAbsoluteHeight=function(t){var e=0,i=0,o=0,s=0,n=0;for(i=0;i<this.columns;i+=1){for(s=t[i].length,o=0,e=0;s>e;e+=1)o+=t[i][e].height+t[i][e].margin;o>n&&(n=o)}this.$container.style.height=n+"px"},VerticleBlocks.prototype.setup=function(){this.resetValues();var t=0,e=0,i=this.$blockes.length,o=this.rowMaxHeight(t,i,this.$blockes),s=this.createColumnsArray(t,i,this.$blockes);for(this.getAbsoluteHeight(s),e=0;e<this.columns;e+=1)for(i=s[e].length,t=1;i>t;t+=1)s[e][t].ele.style.top=s[e][t-1].height-o[t-1]+"px",s[e][t].height=s[e][t].height+(s[e][t-1].height-o[t-1])},VerticleBlocks.prototype.getWidth=function(){var t=window,e="inner";return"innerWidth"in window||(e="client",t=document.documentElement||document.body),t[e+"Width"]},VerticleBlocks.prototype.setUpBreakPoints=function(){var t=this.settings,e=0,i=t.breakPoints.length,o=0,s=0;for(e=0;i>e;e+=1)o=t.breakPoints[e].position,s=i>e+1?t.breakPoints[e+1].position-1:1e4,this.bwbp.push([o,s,t.breakPoints[e].columns])},VerticleBlocks.prototype.updateColumn=function(t){var e=0;for(e=0;e<this.bwbp.length;e+=1)if(t>=this.bwbp[e][0]&&t<this.bwbp[e][1]){this.columns=this.bwbp[e][2],this.setup();break}this.browserResize()},VerticleBlocks.prototype.browserResize=function(){var t=this;window.onresize=function(){t.updateColumn(t.getWidth())}},VerticleBlocks.prototype.extend=function(t,e){var i=t;return Object.keys(e).forEach(function(t){i[t]=e[t]}),i},VerticleBlocks.prototype.defaultSettings=function(){return{listenForChanges:!0,classname:{container:".container",block:".box"},breakPoints:[{position:0,columns:1},{position:480,columns:2},{position:1024,columns:3},{position:1280,columns:4}]}};